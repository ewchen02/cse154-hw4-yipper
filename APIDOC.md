# Yipper API Documentation
The Yipper API stores and provides information about "yips", short blog posts that users can create.

## Get all yip data or yip data matching a given search term
**Request Format:** /yipper/yips

**Query Parameters:** search (optional)

**Request Type:** GET

**Returned Data Format**: JSON

**Description:** If the `search` query parameter is not provided, returns an array of all stored yips in JSON format with all information about the yips, in descending order by date. If `search` is provided, returns an array of the `id`s of the yips that contain the search string anywhere in their `yip`.

**Example Request 1:** `/yipper/yips`

**Example Response 1:** (abbreviated)

```JSON
{
  "yips":[
    {
      "id": 25,
      "name": "Mister Fluffers",
      "yip": "It is sooooo fluffy I am gonna die",
      "hashtag": "fluff",
      "likes": 6,
      "date": "2020-07-07 03:48:28"
    },
    {
      "id": 24,
      "name": "Sir Barks a Lot",
      "yip": "Imagine if my name was sir barks a lot and I was meowing all day haha",
      "hashtag": "clown",
      "likes": 6,
      "date": "2020-07-06 00:55:08"
    },
    ...
  ]
}
```

**Example Request 2:** `/yipper/yips?search=if`

**Example Response 2:**

```JSON
{
  "yips" : [
    {
      "id": 8
    },
    {
      "id": 24
    }
  ]
}
```

**Error Handling:**
- Possible 500 server error (plain text): if something goes wrong on the server, the server will respond with `An error occurred on the server. Try again later.`

## Get yip data for a designated user

**Request Format:** `/yipper/user/:user`

**Request Type:** GET

**Returned Data Format:** JSON

**Description:** Returns an array of all yips whose `name` is identical to the provided `user` parameter. Only the `name`, `yip`, `hashtag`, and `date` data are retrieved.

**Example Request:** `/yipper/user/Chewbarka`

**Example Response:**

```JSON
[
  {
    "name": "Chewbarka",
    "yip": "chewy or soft cookies. I chew them all",
    "hashtag": "largebrain",
    "date": "2020-07-09 22:26:38",
  },
  {
    "name": "Chewbarka",
    "yip": "Every snack you make every meal you bake every bite you take... I will be watching you.",
    "hashtag": "foodie",
    "date": "2019-06-28 23:22:21"
  }
]
```

**Error Handling:**
- Possible 400 invalid request errors (plain text):
  - If nothing is provided for `user`, the server will respond with `Missing one or more of the required params.`
  - If the `user` parameter provided does not exist, the server will respond with `Yikes. User does not exist.`
- Possible 500 server error (plain text): if something goes wrong on the server, the server will respond with `An error occurred on the server. Try again later.`

## Update the likes for a designated yip

**Request Format:** `/yipper/likes`

**Body Parameters:** `id`

**Request Type:** POST

**Returned Data Format:** plain text

**Description:** Increments the number of `likes` for the yip with id `id` by 1, and returns the incremented value.

**Example Request:** `/yipper/likes` with POST parameter `id=5`

**Example Response:**

```
8
```

**Error Handling:**
- Possible 400 invalid request error (plain text): if the `id` parameter does not exist, the server will respond with `Yikes. ID does not exist.`
- Possible 500 server error (plain text): if something goes wrong on the server, the server will respond with `An error occurred on the server. Try again later.`

## Add a new yip

**Request Format:** `/yipper/new`

**Body Parameters:** `name`, `full`

**Request Type:** POST

**Returned Data Format:** JSON

**Description:** Adds a new yip to the database. The new yip has name from the `name` parameter, and `yip` and `hashtag` extracted from the `full` parameter. `id` and `date` are autogenerated, and `likes` is set to 0. Returns the new yip back to the client as well.

**Example Request:** `/yipper/new` with POST parameters `name=Chewbarka` and `full=new post #newpost`

**Example Response:**

```JSON
{
  "id": 528,
  "name": "Chewbarka",
  "yip": "love to yip allllll day long",
  "hashtag": "coolkids",
  "likes": 0,
  "date": "2020-09-09 18:16:18"
}
```

**Error Handling:**
- Possible 400 invalid request errors (plain text):
  - If nothing is provided for `user` and/or `full`, the server will respond with `Missing one or more of the required params.`
  - If the `user` parameter provided does not exist, the server will respond with `Yikes. User does not exist.`
  - If the `user` parameter provided does exist but `full` does not match the correct formatting of a yip, the server will respond with `Yikes. Yip format is invalid.`
- Possible 500 server error (plain text): if something goes wrong on the server, the server will respond with `An error occurred on the server. Try again later.`
